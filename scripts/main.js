"use strict";function getRandomFortune(e){return e[Math.floor(Math.random()*e.length)]}function showFortune(e){svgContainer.querySelector("#paper-text tspan").textContent=e}function openCookie(){var e=svgContainer.querySelector("#cookie");e.classList?e.classList.add("open"):e.className+=" open"}function getDate(){var e=Math.floor(Date.now()/1e3/86400);return e}function hasVisitedToday(){return parseInt(localStorage.getItem("date"))===getDate()}function clickHandler(){svgContainer.hasAttribute("data-disabled")||(hasVisitedToday()||(localStorage.setItem("fortune",dailyFortune),localStorage.setItem("date",getDate())),showFortune(dailyFortune),openCookie())}function onFortunesReady(e){svgContainer.removeAttribute("data-disabled"),dailyFortune=getRandomFortune(e)}function getFortunes(){fetch("fortune.json").then(function(e){return e.json()}).then(function(e){return onFortunesReady(e)})["catch"](function(e){return console.log("promise error: "+e)})}var dailyFortune,svgContainer=document.querySelector(".svg-container");svgContainer.addEventListener("click",function(){return clickHandler()}),hasVisitedToday()&&localStorage.getItem("fortune")?(svgContainer.removeAttribute("data-disabled"),dailyFortune=localStorage.getItem("fortune")):getFortunes(),fetch("images/cookie.svg").then(function(e){return e.text()}).then(function(e){svgContainer.innerHTML=e})["catch"](function(e){return console.log("promise error: "+e)});